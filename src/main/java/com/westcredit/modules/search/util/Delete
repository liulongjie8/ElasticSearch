

Delete By Query  根据查询语句进行删除

eg:

BulkByScrollResponse response = DeleteByQueryAction.INSTANCE.newRequestBuilder(client)
    .filter(QueryBuilders.matchQuery("gender", "male"))
    .source("persons")
    .get();
long deleted = response.getDeleted();  //返回的删除个数


当删除的数比较大的时候，需要执行很长时间，如果想异步的执行，可以采用下面的
DeleteByQueryAction.INSTANCE.newRequestBuilder(client)
    .filter(QueryBuilders.matchQuery("gender", "male"))
    .source("persons")
    .execute(new ActionListener<BulkByScrollResponse>() {
        @Override
        public void onResponse(BulkByScrollResponse response) {
            long deleted = response.getDeleted();  //返回删除的个数
        }
        @Override
        public void onFailure(Exception e) {
             // Handle the exception
        }
    });



